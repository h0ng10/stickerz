{% extends "layouts/layout.html" %}
{% block content %}

<header class="masthead text-white text-center">
		<div class="overlay"></div>
		<div class="container">
		  <div class="row">
			<div class="col-xl-9 mx-auto">
			  <h1 class="mb-5">Post something!</h1>
			</div>
			<div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
			  <form action="/message" method="POST">
				<div class="form-row">
				  <div class="col-12 col-md-9 mb-2 mb-md-0">
					<input type="text" class="form-control form-control-lg" name="message" placeholder="Enter your message">
				  </div>
				  <div class="col-12 col-md-3">
					<button type="submit" name="send" class="btn btn-block btn-lg btn-primary"><i class="fas fa-pen-square m-auto"></i> Post it</button>
				  </div>
				</div>
			  </form>
			</div>
		  </div>
		</div>
	  </header>
  
	  <a href="https://github.com/h0ng10/stickerz/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>
	  <!-- Icons Grid -->
	  <section class="features-icons bg-light text-center">
		<div class="container">
		  <div class="row">
			<div class="col-lg-12">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category,message in messages %}
					<div class="alert alert-{{category}}" role="alert">{{message}}</div>
					{% endfor %}
				{% endif %}
			{% endwith %}
				{% if messages|length > 0 %}
			 	{% for key, message in messages.items() %}<h3> {{ message.text|safe }} ({{message.likes}})  <a href="/like/{{key}}"><i class="fas fa-heart"></i></a></h3>{% endfor %}
				{% else %}
					<h3>No messages yet, post something!</h3>
				{% endif %}
			</div>
		  </div>
		</div>
	  </section>
	{% endblock %}


